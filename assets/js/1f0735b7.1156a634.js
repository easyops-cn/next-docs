"use strict";(self.webpackChunknext_docs=self.webpackChunknext_docs||[]).push([[8030],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},96507:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294);const a={ringContainer:"ringContainer_Jl9i",ring:"ring_UfU1"};function i(){return r.createElement("div",{className:a.ringContainer},r.createElement("div",{className:a.ring},r.createElement("div",null),r.createElement("div",null),r.createElement("div",null),r.createElement("div",null)))}},94981:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(67294),a=n(96507);const i=r.lazy((()=>Promise.all([n.e(532),n.e(6678)]).then(n.bind(n,26678)))),o=r.lazy((()=>Promise.all([n.e(532),n.e(8416),n.e(6297)]).then(n.bind(n,26297)))),l=(0,r.forwardRef)((function(e,t){let{files:n,currentFile:l,theme:s,className:c,typingEffectReady:p,onChange:d}=e;const u=!!navigator.maxTouchPoints;return(0,r.useEffect)((()=>{if(u&&d){const e=n.find((e=>e.name===l));e.codeSlides&&d(e.code,l)}}),[l,n,u,d]),r.createElement(r.Suspense,{fallback:r.createElement(a.Z,null)},u?r.createElement(i,{files:n,currentFile:l,className:c}):r.createElement(o,{files:n,currentFile:l,theme:s,className:c,typingEffectReady:p,onChange:d,ref:t}))}))},63800:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(67294),a=n(73935),i=n(79524),o=n(9200),l=n(51048);function s(e){let{children:t,fallback:n}=e;return(0,l.Z)()?r.createElement(r.Fragment,null,t?.()):n??null}var c=n(86010);var p,d=n(33788);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}const m=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-up",viewBox:"0 0 16 16","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,p||(p=r.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"})))};var h;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}const k=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,h||(h=r.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})))};var b=n(96507);const g={example:"example_UmKM",editorColumn:"editorColumn_AL_t",previewColumn:"previewColumn_FsuT",editorContainer:"editorContainer_sUW3",preview:"preview_bwr6",ready:"ready_dhJq",expanded:"expanded_o_pT",collapsed:"collapsed_aDj8",tabs:"tabs_yDjk",tab:"tab_uskj",active:"active_KoUc",codeTextarea:"codeTextarea_M1nH",codePre:"codePre_isv5",lineNumber:"lineNumber_uSTo",buttonToggleShowMore:"buttonToggleShowMore_A68N",expandable:"expandable_arS4",condensed:"condensed_ytqo"};function y(e){let{files:t,styleText:l,condensed:p,className:u}=e;const h=(0,r.useRef)(),f=(0,r.useRef)(),{colorMode:y}=(0,o.I)(),N=(0,i.Z)("/preview/"),C=(0,r.useRef)(),[E,T]=(0,r.useState)(d.cP),[S,O]=(0,r.useState)(!1),[j,_]=(0,r.useState)((()=>(t.find((e=>e.defaultActive))??t[0]).name)),[P,M]=(0,r.useState)((()=>w(t,j))),[I,A]=(0,r.useState)((()=>v(P,E))),[Z,B]=(0,r.useState)(!1),F=(0,r.useCallback)((()=>{const e=()=>{C.current?.contentWindow?._preview_only_render?O(!0):setTimeout(e,100)};e()}),[]),[R,D]=(0,r.useState)((()=>Object.fromEntries(t.map((e=>[e.name,e.codeSlides?.[0]??e.code]))))),L=function(e,t){void 0===t&&(t=200);const[n,a]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setTimeout((()=>{a(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n}(R);(0,r.useEffect)((()=>{if(!S)return;const e=C.current?.contentWindow?._preview_only_render;if(!e)return;const{Bricks:t,Context:n,Functions:r,Templates:a,I18N:i,templatesAreArrayOfYaml:o}=function(e){const t={},n=[],r=[];for(const[a,i]of Object.entries(e))if(a.startsWith("Functions/")){const[e,t]=a.split("/")[1].split(".");n.push({name:e,source:i,typescript:"ts"===t})}else a.startsWith("tpl-")?r.push({name:a,yaml:i}):t[a]=i;n.length>0&&(t.Functions=n);r.length>0&&(t.Templates=r,t.templatesAreArrayOfYaml=!0);return t}(L);e("yaml",{yaml:t},{theme:y,context:n,functions:r,templates:a,i18n:i,styleText:l,templatesAreArrayOfYaml:o})}),[S,y,L,l]),(0,r.useEffect)((()=>{if(!S)return;const e=new ResizeObserver((e=>{for(const t of e)T(Math.max(d.cP,t.borderBoxSize?.[0]?.blockSize??t.contentRect.height))}));return e.observe(C.current.contentDocument.body,{box:"border-box"}),()=>{e.disconnect()}}),[S]);const q=(0,r.useCallback)(((e,n)=>{D((t=>({...t,[n]:e})));x(t,n).minLines||M(e.split("\n").length)}),[t]);(0,r.useEffect)((()=>{M(w(t,j))}),[t,j]),(0,r.useEffect)((()=>{A(v(P,E))}),[P,E]);const z=(0,r.useCallback)((()=>{const e=!Z;(0,a.flushSync)((()=>{B(e)})),e||(f.current?.resetScrollTop(),h.current.scrollIntoViewIfNeeded?h.current.scrollIntoViewIfNeeded():h.current.scrollIntoView({block:"nearest",inline:"nearest"}))}),[Z]),W=I>d.qH,Y={height:W&&!Z?d.qH:Math.max(I,d.lV)};return r.createElement("div",{className:(0,c.Z)(g.example,u,{[g.expandable]:W,[g.condensed]:p}),ref:h},r.createElement("div",{className:g.tabs},t.map((e=>r.createElement("button",{className:(0,c.Z)(g.tab,{[g.active]:e.name===j}),key:e.name,onClick:()=>{_(e.name)}},"Bricks"===e.name?"Storyboard":e.name)))),r.createElement("div",{className:g.editorColumn,style:Y},r.createElement(s,{fallback:r.createElement(b.Z,null)},(()=>{const e=n(94981).Z;return r.createElement(e,{files:t,currentFile:j,theme:"dark"===y?"vs-dark":"vs",className:g.editorContainer,typingEffectReady:S,onChange:q,ref:f})}))),r.createElement("div",{className:(0,c.Z)(g.previewColumn,Z?g.expanded:g.collapsed),style:{maxHeight:W&&!Z?d.qH:"unset",padding:d.$P}},r.createElement("div",{className:(0,c.Z)(g.preview,{[g.ready]:S})},r.createElement("iframe",{ref:C,src:N,loading:"lazy",onLoad:F,style:{height:E}})),!S&&r.createElement(b.Z,null)),W&&r.createElement("button",{className:g.buttonToggleShowMore,role:"button",onClick:z},Z?r.createElement(m,null):r.createElement(k,null),r.createElement("span",null,Z?"Show less":"Show more")))}function v(e,t){const n=t+2*d.$P,r=e*d.CZ+d.sE+d.z5;return Math.max(n,r)}function x(e,t){return e.find((e=>e.name===t))}function w(e,t){const n=x(e,t);return n.minLines??n.code.split("\n").length}},33788:(e,t,n)=>{n.d(t,{$P:()=>i,CZ:()=>r,cP:()=>a,lV:()=>c,qH:()=>s,sE:()=>o,z5:()=>l});const r=22,a=32,i=20,o=12,l=12,s=18*r+l+o,c=6*r+l+o},41196:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905)),i=n(63800);const o={title:"Quick Start"},l=void 0,s={unversionedId:"learn/quick-start",id:"learn/quick-start",title:"Quick Start",description:"Welcome to the Brick Next documentation! This page will give you an introduction to the 80% of Brick Next concepts that you will use on a daily basis.",source:"@site/docs/learn/quick-start.mdx",sourceDirName:"learn",slug:"/learn/quick-start",permalink:"/next-docs/docs/learn/quick-start",draft:!1,tags:[],version:"current",frontMatter:{title:"Quick Start"},sidebar:"docsSidebar",next:{title:"Brick Life Cycle",permalink:"/next-docs/docs/concepts/brick-life-cycle"}},c={},p=[{value:"Nesting bricks",id:"nesting-bricks",level:2},{value:"Responding to events",id:"responding-to-events",level:2},{value:"Displaying data",id:"displaying-data",level:2},{value:"Conditional rendering",id:"conditional-rendering",level:2},{value:"Rendering lists",id:"rendering-lists",level:2},{value:"Making templates",id:"making-templates",level:2}],d={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Welcome to the Brick Next documentation! This page will give you an introduction to the 80% of Brick Next concepts that you will use on a daily basis."),(0,a.kt)("h2",{id:"nesting-bricks"},"Nesting bricks"),(0,a.kt)("p",null,"Storyboards are made out of ",(0,a.kt)("em",{parentName:"p"},"bricks"),". Bricks are just HTML elements, including ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_components"},"custom elements"),". Define bricks as well as their properties, and nest them in a tree-like structure."),(0,a.kt)("p",null,"Storyboards are defined as declarative structural data. In most examples through our documentation, we will use ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/YAML"},"YAML")," to define storyboards, since it has a minimal syntax, and is more human-readable at the same time, compared to JSON or others. But keep in mind that they are just structural data."),(0,a.kt)(i.Z,{files:[{name:"Bricks",code:"brick: div\nchildren:\n- brick: h1\n  properties:\n    textContent: Welcome to my app\n- brick: button\n  properties:\n    textContent: I'm a button"}],mdxType:"NextExample"}),(0,a.kt)("p",null,"In the above example, we defined a storyboard that is pretty the same as the following HTML:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<div>\n  <h1>Welcome to my app</h1>\n  <button>I'm a button</button>\n</div>\n")),(0,a.kt)("p",null,"In the examples on this page, we will use native HTML elements as bricks for simplicity. But we also provide a built-in brick library, containing lots of custom elements, with decent design, out of the box."),(0,a.kt)("h2",{id:"responding-to-events"},"Responding to events"),(0,a.kt)("p",null,"You can respond to events by declaring ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/events"},(0,a.kt)("em",{parentName:"a"},"event handlers")),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"brick: button\nproperties:\n  textContent: Click me\n// highlight-start\nevents:\n  click:\n    action: console.log\n    args:\n    - You clicked me\n// highlight-end\n")),(0,a.kt)("h2",{id:"displaying-data"},"Displaying data"),(0,a.kt)("p",null,"Embed JavaScript ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/expressions"},(0,a.kt)("em",{parentName:"a"},"expressions"))," to display dynamic data."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"brick: div\nproperties:\n// highlight-next-line\n  textContent: <% CTX.user.name %>\n")),(0,a.kt)("p",null,"Notice that the expressions have their own syntax highlighting through our documentation, but they are just ",(0,a.kt)("em",{parentName:"p"},"strings"),"."),(0,a.kt)("p",null,"Usually you should define some ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/context"},(0,a.kt)("em",{parentName:"a"},"contexts"))," to manage page states, and use expressions to bind the states to brick properties. You can also updating these states in response to events, thus the bound properties will be updated automatically once the states changed."),(0,a.kt)(i.Z,{files:[{name:"Bricks",code:"brick: button\nproperties:\n  textContent: <%= `Clicked ${CTX.count} times` %>\nevents:\n  click:\n    action: context.replace\n    args:\n    - count\n    - <% CTX.count + 1 %>"},{name:"Context",code:"- name: count\n  value: 0"}],mdxType:"NextExample"}),(0,a.kt)("p",null,"Notice that we use ",(0,a.kt)("inlineCode",{parentName:"p"},"<%= %>")," instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"<% %>")," to enable binding mode."),(0,a.kt)("h2",{id:"conditional-rendering"},"Conditional rendering"),(0,a.kt)("p",null,"There are two ways to ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/conditional-rendering"},"conditionally render bricks"),"."),(0,a.kt)("p",null,"The first approach is to define a ",(0,a.kt)("inlineCode",{parentName:"p"},"if")," field along with your brick."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"- if: <% CTX.isAdmin %>\n  brick: admin-panel\n- if: <% !CTX.isAdmin %>\n  brick: user-panel\n")),(0,a.kt)("p",null,"The second one is to use a ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/control-nodes"},(0,a.kt)("em",{parentName:"a"},"control node"))," of ",(0,a.kt)("inlineCode",{parentName:"p"},":if"),". It is more convenient if your condition is complex or you have multiple bricks to render."),(0,a.kt)("p",null,"Specify the condition ",(0,a.kt)("inlineCode",{parentName:"p"},"dataSource")," which is usually an expression, and define the bricks to render in ",(0,a.kt)("inlineCode",{parentName:"p"},"children"),". If the condition is met, those children with an empty slot will be rendered, otherwise those children with slot of ",(0,a.kt)("inlineCode",{parentName:"p"},"else")," will be rendered."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"brick: ':if'\ndataSource: <% FN.check('my', 'complex', 'expression') %>\nchildren:\n- brick: admin-panel-a\n- brick: admin-panel-b\n- brick: user-panel-x\n  slot: else\n- brick: user-panel-y\n  slot: else\n")),(0,a.kt)("h2",{id:"rendering-lists"},"Rendering lists"),(0,a.kt)("p",null,"You can use a ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/control-nodes"},(0,a.kt)("em",{parentName:"a"},"control node"))," of ",(0,a.kt)("inlineCode",{parentName:"p"},":forEach")," to render lists of bricks."),(0,a.kt)("p",null,"Like the ",(0,a.kt)("inlineCode",{parentName:"p"},":if")," node, you should also specify a ",(0,a.kt)("inlineCode",{parentName:"p"},"dataSource")," as well as ",(0,a.kt)("inlineCode",{parentName:"p"},"children"),". For each item in the list (",(0,a.kt)("inlineCode",{parentName:"p"},"dataSource"),"), the children will be rendered once. You can use ",(0,a.kt)("inlineCode",{parentName:"p"},"ITEM")," in expressions to access the current item of each loop."),(0,a.kt)(i.Z,{files:[{name:"Bricks",code:"brick: ul\nchildren:\n- brick: ':forEach'\n  dataSource: <% CTX.products %>\n  children:\n  - brick: li\n    properties:\n      textContent: <% ITEM.title %>\n      style:\n        color: |\n          <%\n            ITEM.isFruit ? 'magenta' : 'green'\n          %>"},{name:"Context",code:"- name: products\n  value:\n  - title: Cabbage\n    isFruit: false\n    id: 1\n  - title: Garlic\n    isFruit: false\n    id: 2\n  - title: Apple\n    isFruit: true\n    id: 3"}],mdxType:"NextExample"}),(0,a.kt)("h2",{id:"making-templates"},"Making templates"),(0,a.kt)("p",null,"You can make ",(0,a.kt)("a",{parentName:"p",href:"/next-docs/docs/concepts/custom-templates"},(0,a.kt)("em",{parentName:"a"},"templates"))," to encapsulate parts of your UI, and reuse them just like other bricks."),(0,a.kt)("p",null,"A template can have its own scoped states which is very similar with contexts. Template states can be internal states, or exposed as properties of the template."),(0,a.kt)(i.Z,{files:[{name:"Bricks",code:"- brick: tpl-description\n  properties:\n    label: Name\n    content: Harry Potter\n- brick: tpl-description\n  properties:\n    label: Gender\n    content: Male\n- brick: tpl-description\n  properties:\n    label: Age\n    content: 17"},{name:"tpl-description",defaultActive:!0,code:"state:\n- name: label\n  expose: true\n- name: content\n  expose: true\nbricks:\n- brick: strong\n  properties:\n    textContent: <%= STATE.label %>\n- brick: p\n  properties:\n    textContent: <%= STATE.content %>\n  "}],mdxType:"NextExample"}))}m.isMDXComponent=!0}}]);